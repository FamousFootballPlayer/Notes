# 2.3 硬件中的分段

从80286开始，Intel处理器采用两种模式进行地址转换：实模式和保护模式。其中实模式的存在是为了维持处理器与早期模型的兼容，并让操作系统自举。下面主要介绍保护模式下的地址转换。

## 1. 段选择符和段寄存器

一个逻辑地址由两部分组成：

1. 段标识符：一个长为16位长的字段，又叫段选择符。
2. 指定段内相对地址的偏移量：一个长为32位长的字段。

为了方便的找到段选择符，处理器提供了段寄存器，段寄存器的唯一目的是存放段选择符。这些段寄存器分别为cs、ds、ss、es、fs、gs。其中

1. cs 为代码段寄存器，指向包含指令序列的段。
2. ss 为栈段寄存器，指向包含当前程序栈的段。
3. ds 为数据段寄存器，指向包含静态数据或者全局数据段。

其他3个作一般用途，可以指向任意数据段。

